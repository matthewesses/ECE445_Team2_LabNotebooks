# 3/18: Implement I2C communication with the STM32

## I2C Overview
- I2C has a master-slave setup, where the STM32 will be acting as the master and the components it needs to communicate with
are the slaves (LiDAR, Doppler, etc.)
- SDA (Serial Data) is the line on which the master and the slave communicate information.
- SCL (Serial Clock) is the clock line for data flow synchronization. It is generated by the master device and is responsible for synchronizing data transfer between the devices on the bus.
- Both of these lines are bi-directional.
- Devices on the I2C bus are active low, so they need pull up resistors to force the devices to high (inactive).

## Data Protocol
1. Start Condition: data line is low, clock line is high
2. First 8 bits come in: first 7 - address of the slave to which data is being sent, last 1 - read/write. 0 = master writes to slave, 1 = master reads from slave
3. Acknowledge Bit - used by slave device to indicate whether previous sequence of bits was successfully received. If yes, it pulls SDA line down.
4. 8 bit address representing the internal registers of the slave device
5. Acknowledge + Data Sequence. Transfer occurs from either master or slave depending on R/W mode.
6. Stop Condition: data line goes from low to high while clock line is high
- Each data transfer occurs on a falling clock edge

### Potentially Useful Links:
[I2C Basics w/Arduino](https://www.youtube.com/watch?v=6IAkYpmA1DQ)
[I2C on STM](https://www.digikey.com/en/maker/projects/getting-started-with-stm32-i2c-example/ba8c2bfef2024654b5dd10012425fa23#:~:text=Open%20STM32CubeIDE%20and%20click%20File,I2C1_SCL%20and%20I2C1_SDA%20functions%2C%20respectively)

